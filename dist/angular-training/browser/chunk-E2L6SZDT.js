import{a as $}from"./chunk-4ZPKLBLM.js";import{f as j}from"./chunk-522L63WJ.js";import{b as z,c as N,d as L,h as W}from"./chunk-GZ46CXGC.js";import{a as B}from"./chunk-BBZRSU2H.js";import{$a as E,B as v,G as C,Ia as x,Ka as l,N as b,Na as t,O as m,Oa as n,Pa as S,Qa as U,Ra as _,Sa as p,Wa as i,Xa as d,Ya as g,Za as P,_ as y,_a as w,bb as I,db as D,ga as M,ha as O,i as f,wb as k,xb as T,ya as s,yb as F,za as h}from"./chunk-4AAHRBRP.js";var q=a=>["/users",a];function A(a,r){a&1&&(t(0,"div",12),S(1,"div",13),t(2,"p"),i(3,"Loading users..."),n()())}function H(a,r){if(a&1){let e=U();t(0,"div",16)(1,"div",17),i(2),n(),t(3,"div",18)(4,"h3"),i(5),n(),t(6,"p",19),i(7),n(),t(8,"p",20),i(9),n(),t(10,"div",21)(11,"span",22),i(12),n(),t(13,"span",22),i(14),n()()(),t(15,"div",23)(16,"a",24),i(17," View Details "),n(),t(18,"button",25),_("click",function(){let u=M(e).$implicit,c=p(2);return O(c.deleteUser(u.id))}),i(19," Delete "),n()()()}if(a&2){let e=r.$implicit,o=p(2);s(2),g(" ",o.getInitials(e.name)," "),s(3),d(e.name),s(2),d(e.email),s(2),d(e.company),s(3),g("\u{1F4F1} ",e.phone,""),s(2),g("\u{1F310} ",e.website,""),s(2),l("routerLink",D(7,q,e.id))}}function R(a,r){if(a&1&&(t(0,"div",14),x(1,H,20,9,"div",15),n()),a&2){let e=p();s(),l("ngForOf",e.filteredUsers)("ngForTrackBy",e.trackByUserId)}}function Y(a,r){a&1&&(t(0,"div",26)(1,"div",27),i(2,"\u{1F615}"),n(),t(3,"h3"),i(4,"No users found"),n(),t(5,"p"),i(6,"Try adjusting your search criteria"),n()())}var V=class a{constructor(r,e){this.userService=r;this.notificationService=e;this.searchSubject.pipe(v(300),C(),b(o=>this.userService.searchUsers(o)),m(this.destroy$)).subscribe(o=>{this.filteredUsers=o,this.loading=!1})}users=[];filteredUsers=[];searchTerm="";loading=!1;destroy$=new f;searchSubject=new f;ngOnInit(){this.loadUsers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadUsers(){this.loading=!0,this.userService.getUsers().pipe(m(this.destroy$)).subscribe({next:r=>{this.users=r,this.filteredUsers=r,this.loading=!1},error:r=>{console.error("Error loading users:",r),this.notificationService.error("Failed to load users"),this.loading=!1}})}onSearchChange(r){let e=r.target.value;this.searchTerm=e,this.loading=!0,this.searchSubject.next(e)}deleteUser(r){confirm("Are you sure you want to delete this user?")&&this.userService.deleteUser(r).pipe(m(this.destroy$)).subscribe({next:e=>{e?(this.notificationService.success("User deleted successfully"),this.loadUsers()):this.notificationService.error("Failed to delete user")},error:e=>{console.error("Error deleting user:",e),this.notificationService.error("Failed to delete user")}})}getInitials(r){return r.split(" ").map(e=>e[0]).join("").toUpperCase()}getUsersWithCompany(){return this.filteredUsers.filter(r=>r.company&&r.company.trim()!=="").length}getUniqueCompanies(){return new Set(this.filteredUsers.map(e=>e.company)).size}trackByUserId(r,e){return e.id}static \u0275fac=function(e){return new(e||a)(h($),h(B))};static \u0275cmp=y({type:a,selectors:[["app-users"]],standalone:!0,features:[I],decls:27,vars:7,consts:[[1,"users-container"],[1,"users-header"],[1,"search-container"],["type","text","placeholder","Search users...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"search-icon"],[1,"users-stats"],[1,"stat-card"],[1,"stat-number"],[1,"stat-label"],["class","loading",4,"ngIf"],["class","users-grid",4,"ngIf"],["class","no-results",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"users-grid"],["class","user-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"user-card"],[1,"user-avatar"],[1,"user-info"],[1,"user-email"],[1,"user-company"],[1,"user-contact"],[1,"contact-item"],[1,"user-actions"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-danger",3,"click"],[1,"no-results"],[1,"no-results-icon"]],template:function(e,o){e&1&&(t(0,"div",0)(1,"header",1)(2,"h1"),i(3,"Users"),n(),t(4,"div",2)(5,"input",3),E("ngModelChange",function(c){return w(o.searchTerm,c)||(o.searchTerm=c),c}),_("input",function(c){return o.onSearchChange(c)}),n(),t(6,"div",4),i(7,"\u{1F50D}"),n()()(),t(8,"div",5)(9,"div",6)(10,"div",7),i(11),n(),t(12,"div",8),i(13,"Total Users"),n()(),t(14,"div",6)(15,"div",7),i(16),n(),t(17,"div",8),i(18,"With Company"),n()(),t(19,"div",6)(20,"div",7),i(21),n(),t(22,"div",8),i(23,"Companies"),n()()(),x(24,A,4,0,"div",9)(25,R,2,2,"div",10)(26,Y,7,0,"div",11),n()),e&2&&(s(5),P("ngModel",o.searchTerm),s(6),d(o.filteredUsers.length),s(5),d(o.getUsersWithCompany()),s(5),d(o.getUniqueCompanies()),s(3),l("ngIf",o.loading),s(),l("ngIf",!o.loading),s(),l("ngIf",!o.loading&&o.filteredUsers.length===0))},dependencies:[F,k,T,W,z,N,L,j],styles:[".users-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.users-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.users-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:2.5rem;margin:0}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-input[_ngcontent-%COMP%]{padding:.75rem 3rem .75rem 1rem;border:2px solid #e2e8f0;border-radius:8px;font-size:1rem;min-width:300px;transition:border-color .3s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.search-icon[_ngcontent-%COMP%]{position:absolute;right:1rem;color:#a0aec0}.users-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:8px;box-shadow:0 2px 10px #0000001a;text-align:center}.stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#667eea;margin-bottom:.5rem}.stat-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.users-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem}.user-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 20px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.user-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 30px #00000026}.user-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.5rem;margin-bottom:1rem}.user-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:0 0 .5rem;font-size:1.25rem}.user-email[_ngcontent-%COMP%]{color:#667eea;margin:0 0 .5rem;font-weight:500}.user-company[_ngcontent-%COMP%]{color:#666;margin:0 0 1rem;font-style:italic}.user-contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;margin-bottom:1rem}.contact-item[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.user-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:6px;text-decoration:none;cursor:pointer;font-size:.9rem;transition:all .3s ease;display:inline-block;text-align:center}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#5a6fd8}.btn-danger[_ngcontent-%COMP%]{background:#e53e3e;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#c53030}.no-results[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#666}.no-results-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#333}@media (max-width: 768px){.users-container[_ngcontent-%COMP%]{padding:1rem}.users-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-input[_ngcontent-%COMP%]{min-width:100%}.users-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{V as UsersComponent};
